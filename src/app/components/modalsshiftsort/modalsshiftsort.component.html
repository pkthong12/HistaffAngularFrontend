<div class="modal-shiftsort">
  <div class="modal-header-shiftsort">
    <div>
      <p>Xếp ca làm việc</p>
    </div>
    <div>
      <span (click)="maximize()"><i class="fa fa-window-maximize" aria-hidden="true"></i></span>
      <span class="pl-2" (click)="close()"><i class="fa fa-times" aria-hidden="true"></i></span>
    </div>
  </div>
  <div class="modal-content-shiftsort">
    <div class="row r-h ">
      <div class="col-3 b-r">
        <div id='treeparent'>
          <ejs-treeview #listTreeObj id="default" [fields]='field' [showCheckBox]='showCheckBox'
            (nodeSelected)="nodeSelecting($event!)">
          </ejs-treeview>
        </div>
      </div>
      <div class="col-9 pl0">
        <form name="editForm" [formGroup]="editForm" novalidate>
          <div class="row pb-4">
            <div class="col-sm-4">
              <div class="form-inline row">
                <label class="col-sm-4 form-label required">Năm</label>
                <div class="col-sm-8">
                  <ejs-numerictextbox name="year" formControlName="yearId" [(ngModel)]="model.yearId" min="2000"
                    max="2050" format='####' (change)="changeYear($event!)">
                  </ejs-numerictextbox>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-inline row">
                <label class="col-sm-4 form-label required" for="periodId">Kỳ
                  Công</label>
                <div class="col-sm-8">
                  <ejs-dropdownlist id='periodId' [dataSource]='lstPeriodId' formControlName="periodId"
                    [(ngModel)]="model.periodId" [fields]='fields' (change)='changePeriod($event!)'>
                  </ejs-dropdownlist>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-inline row">
                <label class="col-sm-4 form-label required" for="periodId">Từ
                  ngày</label>
                <div class="col-sm-8">
                  <ejs-datepicker id="dateStart" formControlName="dateStart" format="dd/MM/yyyy"
                    [(ngModel)]="model.dateStart" (keydown)="changeDate('dateStart')" (blur)="changeDate('dateStart')"
                    placeholder=".../.../...">
                  </ejs-datepicker>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-inline row">
                <label class="col-sm-4 form-label required" for="periodId">Đối
                  tượng</label>
                <div class="col-sm-8">
                  <ejs-dropdownlist id="objectId" [dataSource]='lstObjectId' formControlName="objectId"
                    [(ngModel)]="model.objectId" [fields]='fields'>
                  </ejs-dropdownlist>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-inline row">
                <label class="col-sm-4 form-label required" for="periodId">Ca</label>
                <div class="col-sm-8">
                  <ejs-dropdownlist id="shift" [dataSource]='lstShift' formControlName="shiftId"
                    [(ngModel)]="model.shiftId" [fields]='fields' popupWidth='250px'>
                  </ejs-dropdownlist>
                </div>
              </div>
            </div>

            <div class="col-sm-4">
              <div class="form-inline row">
                <label class="col-sm-4 form-label required" for="periodId">Đến
                  ngày</label>
                <div class="col-sm-8">
                  <ejs-datepicker id="dateEnd" formControlName="dateEnd" format="dd/MM/yyyy" [(ngModel)]="model.dateEnd"
                    (keydown)="changeDate('dateEnd')" (blur)="changeDate('dateEnd')" placeholder=".../.../...">
                  </ejs-datepicker>
                </div>
              </div>
            </div>
          </div>
        </form>
        <div class="list-grid">
          <ejs-grid #overviewgrid id='overviewgrid' [dataSource]='data | async' 
            (dataStateChange)="dataStateChange($event!)" rowHeight='32' headerHeight='35' height='380px'
            [allowPaging]='true' [pageSettings]='configs.pageSettings' [enableHover]='true' [allowSorting]='true'
            allowResizing='true' [allowFiltering]='true' (dataBound)="dataBound()" [locale]='configs.currentLang'>
            <e-columns>
              <e-column type='checkbox' [showInColumnChooser]='false' [allowFiltering]='false' [allowSorting]='false'
                width='60' textAlign="Center" [allowEditing]="false">
              </e-column>
              <e-column field='employeeCode' headerTextAlign="Center" textAlign="Left" headerText="Mã nhân viên"
                clipMode='EllipsisWithTooltip'>
              </e-column>
              <e-column field='employeeName' headerTextAlign="Left" textAlign="Left" headerText="Họ và tên"
                clipMode='EllipsisWithTooltip'>
              </e-column>
              <e-column field='positionName' headerTextAlign="Left" textAlign="Left" headerText="Vị trí"
                clipMode='EllipsisWithTooltip'>
              </e-column>
              <e-column field='orgName' headerTextAlign="Left" textAlign="Left" headerText="Phòng ban"
                clipMode='EllipsisWithTooltip'>
              </e-column>
            </e-columns>
          </ejs-grid>
        </div>
      </div>
    </div>



  </div>
  <div class="modal-footer-shiftsort">
    <div class="col-3 b-r"></div>
    <div class="col-9 p-l rigth-card ">
      <button (click)="save()">
        <i class="fa fa-check" aria-hidden="true"></i>
        Lưu</button>
      <button class="btn-cancel" (click)="close()">
        <i class="fa fa-times" aria-hidden="true"></i>
        Hủy</button>
    </div>
  </div>
</div>
<div class="modal-background"></div>